<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jelajah Rumah Adat Nusantara</title>
    
    <style>
        /* --- RESET & BASIC STYLE --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

        body {
            background-color: #222;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        #app {
            position: relative;
            aspect-ratio: 16 / 9; 
            width: 100%;
            max-width: 100vw;
            max-height: 100vh;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            background-color: #000;
            overflow: hidden;
        }

        /* --- BACKGROUNDS & SCREENS --- */
        .screen {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-size: 100% 100%; 
            background-position: center;
            background-repeat: no-repeat;
        }

        #screen-1 { z-index: 10; background-image: url('/images/gambar1.png'); transition: transform 0.8s ease-in-out; }
        #screen-2 { z-index: 5; background-image: url('/images/gambar2.png'); }

        #screen-bali       { background-image: url('/images/bali.png'); }
        #screen-sumatra    { background-image: url('/images/sumatra.png'); }
        #screen-sulawesi   { background-image: url('/images/sulawesi.png'); }
        #screen-kalimantan { background-image: url('/images/kalimantan.png'); }
        #screen-maluku     { background-image: url('/images/maluku.png'); }
        
        #screen-quiz       { background-image: url('/images/kuis.png'); }
        #screen-quiz::before {
            content: ''; position: absolute; top:0; left:0; width:100%; height:100%;
            background: rgba(0,0,0,0.6); 
            z-index: 1; 
        }

        /* --- URUTAN SLIDE MATERI TAMBAHAN --- */

        /* 1. DAMPAK (9000) */
        #screen-ending { 
            z-index: 9000; 
            background-image: url('/images/1.png'); 
            background-color: white; background-size: 100% 100%;
            opacity: 0; transform: scale(0.8); pointer-events: none;
            transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        /* 2. TANTANGAN (9100) */
        #screen-challenge { 
            z-index: 9100; 
            background-image: url('/images/11.png'); 
            background-color: white; background-size: 100% 100%;
            opacity: 0; transform: translateX(100%); pointer-events: none;
            transition: all 0.8s ease-in-out;
        }

        /* 3. CARA MENGHARGAI (9200) */
        #screen-ways { 
            z-index: 9200; 
            background-image: url('/images/12.png'); 
            background-color: white; background-size: 100% 100%;
            opacity: 0; transform: translateY(-100%); pointer-events: none;
            transition: all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        /* 4. PERAN KELUARGA (9300) */
        #screen-family { 
            z-index: 9300; 
            background-image: url('/images/13.png'); 
            background-color: white; background-size: 100% 100%;
            opacity: 0; transform: translateY(100%); pointer-events: none;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* 5. PERAN SEKOLAH (9400) */
        #screen-school { 
            z-index: 9400; 
            background-image: url('/images/14.png'); 
            background-color: white; background-size: 100% 100%;
            opacity: 0; transform: scale(2); pointer-events: none;
            transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
        }

        /* 6. CONTOH MENGHARGAI (9500) */
        #screen-example { 
            z-index: 9500; 
            background-image: url('/images/15.png'); 
            background-color: white; background-size: 100% 100%;
            opacity: 0; transform: translateX(-100%); pointer-events: none;
            transition: all 0.8s ease-in-out;
        }

        /* 7. TERIMAKASIH (9600 - PALING ATAS) */
        #screen-thankyou { 
            z-index: 9600; 
            background-image: url('/images/16.png'); /* File Baru */
            background-color: white; background-size: 100% 100%;
            
            /* Animasi: Fade In Lembut & Sedikit Membesar */
            opacity: 0; 
            transform: scale(1.1); 
            pointer-events: none;
            transition: all 1s ease-in-out;
        }

        /* Kelas Helper */
        .show-screen {
            opacity: 1 !important;
            transform: scale(1) translateX(0) translateY(0) !important;
            pointer-events: auto !important;
        }

        /* --- ANIMASI UMUM --- */
        .slide-up { transform: translateY(-100%); }
        
        .materi-screen {
            z-index: 20; opacity: 0; transform: scale(0.5); pointer-events: none;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .show-materi { opacity: 1; transform: scale(1); pointer-events: auto; }

        .quiz-screen {
            z-index: 25; transform: translateX(100%); transition: transform 0.6s ease-in-out;
        }
        .show-quiz { transform: translateX(0%); }


        /* =========================================
           STYLE KHUSUS KUIS
           ========================================= */
        
        .quiz-container {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 80%; 
            height: 80%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            overflow: hidden;
            transition: transform 0.8s ease, opacity 0.8s ease;
            z-index: 50; 
        }

        .quiz-container.fade-out {
            transform: translate(-50%, 150%);
            opacity: 0;
        }

        .question-box {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: absolute;
            transition: all 0.5s ease;
            opacity: 0;
            transform: translateX(100px);
            pointer-events: none;
        }

        .question-box.active { opacity: 1; transform: translateX(0); pointer-events: auto; position: relative; }
        .question-box.exit { position: absolute; opacity: 0; transform: translateX(-100px); }

        .q-layout-row {
            display: flex;
            flex-direction: row; 
            align-items: center; 
            justify-content: center; 
            gap: 40px; 
            width: 90%;
            margin-bottom: 30px; 
        }

        .q-img {
            width: 350px;  
            height: auto; 
            max-height: 250px; 
            background-color: transparent; 
            border: none;
            box-shadow: none;
            object-fit: contain;
        }

        .question-text {
            font-size: 1.6vw; 
            color: #333;
            font-weight: bold;
            text-align: left; 
            flex: 1; 
            line-height: 1.5; 
        }

        .question-text.center { text-align: center; margin-bottom: 30px; }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 90%; 
            margin: 0 auto;
        }

        .option-btn {
            padding: 15px 20px;
            border: 2px solid #ddd;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            font-size: 1.2vw;
            font-weight: 500;
            transition: 0.2s;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-btn:hover { background-color: #f0f8ff; border-color: #3498db; transform: translateX(5px); }
        .option-btn.correct { background-color: #2ecc71; color: white; border-color: #2ecc71; pointer-events: none;}
        .option-btn.wrong { background-color: #e74c3c; color: white; border-color: #e74c3c; pointer-events: none;}

        .action-btn {
            margin-top: 25px;
            padding: 12px 50px;
            border: none; border-radius: 50px;
            font-size: 1.2vw; font-weight: bold; cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: none; opacity: 0; transform: scale(0.5);
            color: white;
        }

        .action-btn.show { display: block; animation: jellyPop 0.6s forwards; }

        .next-q-btn { background: linear-gradient(45deg, #2ecc71, #27ae60); }
        .retry-btn { background: linear-gradient(45deg, #f1c40f, #f39c12); }
        .ending-btn { background: linear-gradient(45deg, #9b59b6, #8e44ad); }

        @keyframes jellyPop {
            0% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1.1); }
            70% { transform: scale(0.95); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* --- NAVIGATION BUTTONS --- */
        .start-area { position: absolute; top: 62%; left: 50%; transform: translate(-50%, -50%); width: 24%; height: 12%; cursor: pointer; z-index: 30; border-radius: 50px; }
        .region-area { position: absolute; width: 14%; height: 20%; cursor: pointer; z-index: 30; }
        .area-bali { top: 40%; left: 8%; }
        .area-sumatra { top: 35%; left: 28%; }
        .area-sulawesi { top: 40%; left: 48%; }
        .area-kalimantan { top: 60%; left: 18%; }
        .area-maluku { top: 60%; left: 40%; }
        
        .btn-back { position: absolute; top: 4%; left: 2%; padding: 1% 2%; background: white; color: #333; border-radius: 30px; cursor: pointer; font-size: 1.2vw; z-index: 100; border: 2px solid #ddd; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .btn-back:hover { transform: scale(1.05); background-color: #f9f9f9; }

        .btn-quiz-enter { position: absolute; bottom: 4%; right: 2%; padding: 1% 3%; background: #ff7f50; color: white; border-radius: 30px; cursor: pointer; font-size: 1.5vw; z-index: 100; border: 2px solid white; animation: pulse 2s infinite; font-weight: bold;}
        
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        .btn-finish-green {
            position: absolute;
            bottom: 30px; right: 30px;
            padding: 10px 30px;
            background-color: #27ae60;
            color: white;
            font-weight: bold;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.2vw;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            border: 2px solid white;
            z-index: 201; 
        }
        .btn-finish-green:hover { transform: scale(1.05); }

    </style>
</head>
<body>

<div id="app">

    <!-- === SCREEN 7: TERIMAKASIH (BARU) === -->
    <div id="screen-thankyou" class="screen">
        <div class="btn-back" onclick="tutupTerimakasih()">â¬… Kembali</div>
        <!-- Tombol Final Restart -->
        <div class="btn-finish-green" onclick="location.reload()">Selesai & Kembali ke Awal â†º</div>
    </div>

    <!-- === SCREEN 6: CONTOH MENGHARGAI === -->
    <div id="screen-example" class="screen">
        <div class="btn-back" onclick="tutupContoh()">â¬… Kembali</div>
        <!-- Tombol Lanjut ke Terimakasih -->
        <div class="btn-finish-green" onclick="bukaTerimakasih()">Selesai âž¡</div>
    </div>

    <!-- === SCREEN 5: PERAN SEKOLAH === -->
    <div id="screen-school" class="screen">
        <div class="btn-back" onclick="tutupPeranSekolah()">â¬… Kembali</div>
        <div class="btn-finish-green" onclick="bukaContoh()">Next âž¡</div>
    </div>

    <!-- === SCREEN 4: PERAN KELUARGA === -->
    <div id="screen-family" class="screen">
        <div class="btn-back" onclick="tutupPeranKeluarga()">â¬… Kembali</div>
        <div class="btn-finish-green" onclick="bukaPeranSekolah()">Next âž¡</div>
    </div>

    <!-- === SCREEN 3: CARA MENGHARGAI === -->
    <div id="screen-ways" class="screen">
        <div class="btn-back" onclick="tutupCaraMenghargai()">â¬… Kembali</div>
        <div class="btn-finish-green" onclick="bukaPeranKeluarga()">Next âž¡</div>
    </div>

    <!-- === SCREEN 2: TANTANGAN === -->
    <div id="screen-challenge" class="screen">
        <div class="btn-back" onclick="tutupTantangan()">â¬… Kembali</div>
        <div class="btn-finish-green" onclick="bukaCaraMenghargai()">Next âž¡</div>
    </div>

    <!-- === SCREEN 1: DAMPAK POSITIF === -->
    <div id="screen-ending" class="screen">
        <div class="btn-finish-green" onclick="bukaTantangan()"> Next âž¡</div>
    </div>

    <!-- === SCREEN KUIS === -->
    <div id="screen-quiz" class="screen quiz-screen">
        <div class="btn-back" onclick="tutupQuiz()">â¬… Batal</div>

        <div class="quiz-container" id="quiz-box-container">
            <!-- SOAL 1 -->
            <div class="question-box active" id="q1">
                <div class="q-layout-row">
                    <img src="/images/NUSANTARA.png" class="q-img" alt="Soal 1">
                    <div class="question-text">1. Rumah adat disamping merupakan rumah adat daerah...?</div>
                </div>
                <div class="options">
                    <button class="option-btn" onclick="pilihJawaban(1, 'A')">A. Sulawesi</button>
                    <button class="option-btn" onclick="pilihJawaban(1, 'B')">B. Aceh</button>
                    <button class="option-btn" onclick="pilihJawaban(1, 'C')">C. Bali</button>
                </div>
            </div>
            <!-- SOAL 2 -->
            <div class="question-box" id="q2">
                <div class="q-layout-row"><img src="/images/B.png" class="q-img" alt="Soal 2"></div>
                <div class="question-text center">2. Rumah Gadang, Rumah Balon, dan Rumah Limas merupakan rumah adat daerah...?</div>
                <div class="options">
                    <button class="option-btn" onclick="pilihJawaban(2, 'A')">A. Kalimantan</button>
                    <button class="option-btn" onclick="pilihJawaban(2, 'B')">B. Maluku</button>
                    <button class="option-btn" onclick="pilihJawaban(2, 'C')">C. Bali</button>
                </div>
            </div>
            <!-- SOAL 3 -->
            <div class="question-box" id="q3">
                <div class="q-layout-row"><img src="/images/27.png" class="q-img" alt="Soal 2"></div>
                <div class="question-text center">3. Rumah adat suku Dayak dan suku Banjar terletak di daerah...?</div>
                <div class="options">
                    <button class="option-btn" onclick="pilihJawaban(3, 'A')">A. Papua</button>
                    <button class="option-btn" onclick="pilihJawaban(3, 'B')">B. Kalimantan</button>
                    <button class="option-btn" onclick="pilihJawaban(3, 'C')">C. Sumatra</button>
                </div>
            </div>
            <!-- SOAL 4 -->
            <div class="question-box" id="q4">
                <div class="q-layout-row"><img src="/images/28.png" class="q-img" alt="Soal 4"></div>
                <div class="question-text">4. Rumah Baileo merupakan rumah adat daerah...</div>
                <div class="options">
                    <button class="option-btn" onclick="pilihJawaban(4, 'A')">A. Bali</button>
                    <button class="option-btn" onclick="pilihJawaban(4, 'B')">B. Maluku</button>
                    <button class="option-btn" onclick="pilihJawaban(4, 'C')">C. Sulawesi</button>
                </div>
            </div>

            <!-- HASIL AKHIR -->
            <div class="question-box" id="result-box">
                <h1 style="color: #2c3e50; margin-bottom: 20px;">Selamat! ðŸŽ‰</h1>
                <div class="question-text center" style="font-weight: normal;">
                    Kamu telah menyelesaikan semua pertanyaan dengan baik.
                </div>
                <button class="action-btn ending-btn show" onclick="bukaDampakPositif()"> Next âž¡</button>
            </div>

            <button id="btn-next-soal" class="action-btn next-q-btn" onclick="nextQuestion()">Pertanyaan Selanjutnya âž¡</button>
            <button id="btn-retry" class="action-btn retry-btn" onclick="ulangiPertanyaan()">Ulangi Lagi â†º</button>
        </div>
    </div>

    <!-- === SCREEN MATERI === -->
    <div id="screen-bali" class="screen materi-screen"><div class="btn-back" onclick="tutupMateri('screen-bali')">â¬… Kembali</div></div>
    <div id="screen-sumatra" class="screen materi-screen"><div class="btn-back" onclick="tutupMateri('screen-sumatra')">â¬… Kembali</div></div>
    <div id="screen-sulawesi" class="screen materi-screen"><div class="btn-back" onclick="tutupMateri('screen-sulawesi')">â¬… Kembali</div></div>
    <div id="screen-kalimantan" class="screen materi-screen"><div class="btn-back" onclick="tutupMateri('screen-kalimantan')">â¬… Kembali</div></div>
    <div id="screen-maluku" class="screen materi-screen"><div class="btn-back" onclick="tutupMateri('screen-maluku')">â¬… Kembali</div></div>

    <!-- === SCREEN 2 (MENU) === -->
    <div id="screen-2" class="screen">
        <div class="btn-back" onclick="kembaliKeAwal()">â¬… Halaman Depan</div>
        <div class="region-area area-bali" onclick="bukaMateri('screen-bali')"></div>
        <div class="region-area area-sumatra" onclick="bukaMateri('screen-sumatra')"></div>
        <div class="region-area area-sulawesi" onclick="bukaMateri('screen-sulawesi')"></div>
        <div class="region-area area-kalimantan" onclick="bukaMateri('screen-kalimantan')"></div>
        <div class="region-area area-maluku" onclick="bukaMateri('screen-maluku')"></div>
        <div class="btn-quiz-enter" onclick="bukaQuiz()">Lanjut ke Kuis âž¡</div>
    </div>

    <!-- === SCREEN 1 (HOME) === -->
    <div id="screen-1" class="screen">
        <div class="start-area" onclick="mulaiEkspedisi()"></div>
    </div>

</div>

<script>
    // --- NAVIGASI ---
    const screen1 = document.getElementById('screen-1');
    const screenQuiz = document.getElementById('screen-quiz');
    const screenEnding = document.getElementById('screen-ending');
    const screenChallenge = document.getElementById('screen-challenge');
    const screenWays = document.getElementById('screen-ways');
    const screenFamily = document.getElementById('screen-family');
    const screenSchool = document.getElementById('screen-school');
    const screenExample = document.getElementById('screen-example');
    const screenThankyou = document.getElementById('screen-thankyou');

    function mulaiEkspedisi() { screen1.classList.add('slide-up'); }
    function kembaliKeAwal() { screen1.classList.remove('slide-up'); }
    function bukaMateri(id) { document.getElementById(id).classList.add('show-materi'); }
    function tutupMateri(id) { document.getElementById(id).classList.remove('show-materi'); }
    
    function bukaQuiz() { 
        screenQuiz.classList.add('show-quiz'); 
        resetQuiz(); 
    }
    function tutupQuiz() { screenQuiz.classList.remove('show-quiz'); }

    // --- NAVIGASI SLIDE AKHIR ---
    
    function bukaDampakPositif() {
        document.getElementById('quiz-box-container').classList.add('fade-out');
        setTimeout(() => { screenEnding.classList.add('show-screen'); }, 200);
    }

    function bukaTantangan() { screenChallenge.classList.add('show-screen'); }
    function tutupTantangan() { screenChallenge.classList.remove('show-screen'); }

    function bukaCaraMenghargai() { screenWays.classList.add('show-screen'); }
    function tutupCaraMenghargai() { screenWays.classList.remove('show-screen'); }

    function bukaPeranKeluarga() { screenFamily.classList.add('show-screen'); }
    function tutupPeranKeluarga() { screenFamily.classList.remove('show-screen'); }

    function bukaPeranSekolah() { screenSchool.classList.add('show-screen'); }
    function tutupPeranSekolah() { screenSchool.classList.remove('show-screen'); }

    function bukaContoh() { screenExample.classList.add('show-screen'); }
    function tutupContoh() { screenExample.classList.remove('show-screen'); }

    // BUKA TERIMAKASIH (BARU)
    function bukaTerimakasih() { screenThankyou.classList.add('show-screen'); }
    function tutupTerimakasih() { screenThankyou.classList.remove('show-screen'); }

    // --- LOGIKA KUIS ---
    let currentQ = 1;
    const totalQ = 4;
    
    const answers = { 1: 'A', 2: 'C', 3: 'B', 4: 'B' };

    function pilihJawaban(qNum, choice) {
        const parentDiv = document.getElementById('q' + qNum);
        if(parentDiv.classList.contains('answered')) return;
        parentDiv.classList.add('answered');

        const buttons = parentDiv.querySelectorAll('.option-btn');
        const nextBtn = document.getElementById('btn-next-soal');
        const retryBtn = document.getElementById('btn-retry');
        
        if (choice === answers[qNum]) {
            buttons.forEach(btn => { if(btn.innerText.startsWith(choice)) btn.classList.add('correct'); });
            nextBtn.classList.add('show');
            retryBtn.classList.remove('show');
        } else {
            buttons.forEach(btn => { if(btn.innerText.startsWith(choice)) btn.classList.add('wrong'); });
            retryBtn.classList.add('show');
            nextBtn.classList.remove('show');
        }
    }

    function ulangiPertanyaan() {
        const parentDiv = document.getElementById('q' + currentQ);
        parentDiv.classList.remove('answered');
        parentDiv.querySelectorAll('.option-btn').forEach(btn => { btn.classList.remove('correct', 'wrong'); });
        document.getElementById('btn-retry').classList.remove('show');
    }

    function nextQuestion() {
        document.getElementById('q' + currentQ).classList.remove('active');
        document.getElementById('q' + currentQ).classList.add('exit');
        document.getElementById('btn-next-soal').classList.remove('show');
        currentQ++;
        if (currentQ <= totalQ) {
            document.getElementById('q' + currentQ).classList.add('active');
        } else {
            document.getElementById('result-box').classList.add('active');
        }
    }

    function resetQuiz() {
        currentQ = 1;
        document.getElementById('quiz-box-container').classList.remove('fade-out');
        screenEnding.classList.remove('show-screen');
        screenChallenge.classList.remove('show-screen');
        screenWays.classList.remove('show-screen');
        screenFamily.classList.remove('show-screen');
        screenSchool.classList.remove('show-screen');
        screenExample.classList.remove('show-screen');
        screenThankyou.classList.remove('show-screen');

        for(let i=1; i<=totalQ; i++) {
            const box = document.getElementById('q' + i);
            box.classList.remove('active', 'exit', 'answered');
            if(i === 1) box.classList.add('active');
            box.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('correct', 'wrong'));
        }
        document.getElementById('result-box').classList.remove('active');
        document.getElementById('btn-next-soal').classList.remove('show');
        document.getElementById('btn-retry').classList.remove('show');
    }
</script>

</body>
</html>